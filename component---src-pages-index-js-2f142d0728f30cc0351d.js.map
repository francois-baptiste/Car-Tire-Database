{"version":3,"sources":["webpack:///./src/components/SearchContainer.js","webpack:///./src/pages/index.js"],"names":["Search","state","bookList","search","searchResults","isLoading","isError","searchQuery","rebuildIndex","_this","dataToSearch","JsSearch","indexStrategy","sanitizer","searchIndex","addIndex","addDocuments","setState","searchData","e","queryResult","target","value","handleSubmit","preventDefault","componentDidMount","_callee","_this2","this","regenerator_default","a","wrap","_context","prev","next","Axios","get","then","result","bookData","data","books","catch","err","console","log","stop","render","_this$state","queryResults","react_default","createElement","style","margin","marginTop","textAlign","padding","onSubmit","htmlFor","paddingRight","id","onChange","placeholder","width","length","borderCollapse","borderRadius","border","fontSize","fontWeight","borderBottom","cursor","map","item","key","isbn","title","author","Component","IndexPage","SearchContainer"],"mappings":"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","file":"component---src-pages-index-js-2f142d0728f30cc0351d.js","sourcesContent":["import React, { Component } from \"react\"\nimport Axios from \"axios\"\nimport * as JsSearch from \"js-search\"\n\nclass Search extends Component {\n  state = {\n    bookList: [],\n    search: [],\n    searchResults: [],\n    isLoading: true,\n    isError: false,\n    searchQuery: ``,\n  }\n  /**\n   * React lifecycle method to fetch the data\n   */\n  async componentDidMount() {\n    Axios.get(`/Car-Tire-Database/tires.json`)\n      .then(result => {\n        const bookData = result.data\n        this.setState({ bookList: bookData.books })\n        this.rebuildIndex()\n      })\n      .catch(err => {\n        this.setState({ isError: true })\n        console.log(`====================================`)\n        console.log(`Something bad happened while fetching the data\\n${err}`)\n        console.log(`====================================`)\n      })\n  }\n\n  /**\n   * rebuilds the overall index based on the options\n   */\n  rebuildIndex = () => {\n    const { bookList } = this.state\n\n    const dataToSearch = new JsSearch.Search(`isbn`)\n\n    /**\n     *  defines a indexing strategy for the data\n     * more more about it in here https://github.com/bvaughn/js-search#configuring-the-index-strategy\n     */\n    dataToSearch.indexStrategy = new JsSearch.PrefixIndexStrategy()\n\n    /**\n     * defines the sanitizer for the search\n     * to prevent some of the words from being excluded\n     *\n     */\n    dataToSearch.sanitizer = new JsSearch.LowerCaseSanitizer()\n\n    /**\n     * defines the search index\n     * read more in here https://github.com/bvaughn/js-search#configuring-the-search-index\n     */\n    dataToSearch.searchIndex = new JsSearch.TfIdfSearchIndex(`isbn`)\n\n    dataToSearch.addIndex(`title`) // sets the index attribute for the data\n    dataToSearch.addIndex(`author`) // sets the index attribute for the data\n\n    dataToSearch.addDocuments(bookList) // adds the data to be searched\n    this.setState({ search: dataToSearch, isLoading: false })\n  }\n\n  /**\n   * handles the input change and perfom a search with js-search\n   * in which the results will be added to the state\n   */\n  searchData = e => {\n    const { search } = this.state\n    const queryResult = search.search(e.target.value)\n    this.setState({ searchQuery: e.target.value, searchResults: queryResult })\n  }\n  handleSubmit = e => {\n    e.preventDefault()\n  }\n\n  render() {\n    const {\n      isError,\n      isLoading,\n      bookList,\n      searchResults,\n      searchQuery,\n    } = this.state\n    const queryResults = searchQuery === `` ? bookList : searchResults\n\n    if (isLoading) {\n      return (\n        <div style={{ margin: `1.2rem 1rem 1.2rem 1rem` }}>\n          <h1 style={{ marginTop: `3em`, textAlign: `center` }}>\n            Getting the search all setup\n          </h1>\n        </div>\n      )\n    }\n    if (isError) {\n      return (\n        <div style={{ margin: `1.2rem 1rem 1.2rem 1rem` }}>\n          <h1 style={{ marginTop: `3em`, textAlign: `center` }}>Ohh no!!!!!</h1>\n          <h3\n            style={{\n              marginTop: `2em`,\n              padding: `2em 0em`,\n              textAlign: `center`,\n            }}\n          >\n            Something really bad happened\n          </h3>\n        </div>\n      )\n    }\n    return (\n      <div>\n        <div style={{ margin: `0 auto` }}>\n          <form onSubmit={this.handleSubmit}>\n            <div style={{ margin: `0 auto` }}>\n              <label htmlFor=\"Search\" style={{ paddingRight: `10px` }}>\n                Enter your search here\n              </label>\n              <input\n                id=\"Search\"\n                value={searchQuery}\n                onChange={this.searchData}\n                placeholder=\"Enter your search here\"\n                style={{ margin: `0 auto`, width: `400px` }}\n              />\n            </div>\n          </form>\n          <div>\n            Number of items:\n            {queryResults.length}\n            <table\n              style={{\n                width: `100%`,\n                borderCollapse: `collapse`,\n                borderRadius: `4px`,\n                border: `1px solid #d3d3d3`,\n              }}\n            >\n              <thead style={{ border: `1px solid #808080` }}>\n                <tr>\n                  <th\n                    style={{\n                      textAlign: `left`,\n                      padding: `5px`,\n                      fontSize: `14px`,\n                      fontWeight: 600,\n                      borderBottom: `2px solid #d3d3d3`,\n                      cursor: `pointer`,\n                    }}\n                  >\n                    Tire index\n                  </th>\n                  <th\n                    style={{\n                      textAlign: `left`,\n                      padding: `5px`,\n                      fontSize: `14px`,\n                      fontWeight: 600,\n                      borderBottom: `2px solid #d3d3d3`,\n                      cursor: `pointer`,\n                    }}\n                  >\n                    Tire description\n                  </th>\n                  <th\n                    style={{\n                      textAlign: `left`,\n                      padding: `5px`,\n                      fontSize: `14px`,\n                      fontWeight: 600,\n                      borderBottom: `2px solid #d3d3d3`,\n                      cursor: `pointer`,\n                    }}\n                  >\n                    Tire ratio\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                {/* eslint-disable */}\n                {queryResults.map(item => {\n                  return (\n                    <tr key={`row_${item.isbn}`}>\n                      <td\n                        style={{\n                          fontSize: `14px`,\n                          border: `1px solid #d3d3d3`,\n                        }}\n                      >\n                        {item.isbn}\n                      </td>\n                      <td\n                        style={{\n                          fontSize: `14px`,\n                          border: `1px solid #d3d3d3`,\n                        }}\n                      >\n                        {item.title}\n                      </td>\n                      <td\n                        style={{\n                          fontSize: `14px`,\n                          border: `1px solid #d3d3d3`,\n                        }}\n                      >\n                        {item.author}\n                      </td>\n                    </tr>\n                  )\n                })}\n                 {/* eslint-enable */}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Search\n","import React from \"react\"\nimport Search from \"../components/SearchContainer\"\n\nconst IndexPage = () => (\n  <div>\n    <h1 style={{ marginTop: `3em`, textAlign: `center` }}>\n      Search data using JS Search\n    </h1>\n    <div>\n      <Search />\n    </div>\n  </div>\n)\n\nexport default IndexPage\n"],"sourceRoot":""}