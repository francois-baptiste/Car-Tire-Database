(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{141:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),i=r(147),o=r.n(i),l=(r(143),r(148)),d=r.n(l),s=(r(72),r(7)),c=r.n(s),u=r(149),p=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={isLoading:!0,searchResults:[],search:null,isError:!1,indexByTitle:!1,indexByRatio:!1,termFrequency:!0,removeStopWords:!1,searchQuery:"",selectedStrategy:"",selectedSanitizer:""},t.rebuildIndex=function(){var e=t.state,r=e.selectedStrategy,n=e.selectedSanitizer,a=e.removeStopWords,i=e.termFrequency,o=e.indexByTitle,l=e.indexByRatio,d=t.props.books,s=new u.Search("isbn");a&&(s.tokenizer=new u.StopWordsTokenizer(s.tokenizer)),"All"===r&&(s.indexStrategy=new u.AllSubstringsIndexStrategy),"Exact match"===r&&(s.indexStrategy=new u.ExactWordIndexStrategy),"Prefix match"===r&&(s.indexStrategy=new u.PrefixIndexStrategy),s.sanitizer="Case Sensitive"===n?new u.CaseSensitiveSanitizer:new u.LowerCaseSanitizer,s.searchIndex=!0===i?new u.TfIdfSearchIndex("isbn"):new u.UnorderedSearchIndex,o&&s.addIndex("title"),l&&s.addIndex("ratio"),s.addDocuments(d),t.setState({search:s,isLoading:!1})},t.searchData=function(e){var r=t.state.search.search(e.target.value);t.setState({searchQuery:e.target.value,searchResults:r})},t.handleSubmit=function(e){e.preventDefault()},t}c()(t,e),t.getDerivedStateFromProps=function(e,t){if(null===t.search){var r=e.engine;return{indexByTitle:r.TitleIndex,indexByRatio:r.RatioIndex,termFrequency:r.SearchByTerm,selectedSanitizer:r.searchSanitizer,selectedStrategy:r.indexStrategy}}return null};var r=t.prototype;return r.componentDidMount=function(){var e=d()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.rebuildIndex();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),r.render=function(){var e=this.state,t=e.isLoading,r=e.isError,n=e.searchResults,i=e.searchQuery,o=this.props.books,l=""===i?o:n;return t?a.a.createElement("div",null,a.a.createElement("h1",{style:{marginTop:"3em"}},"Getting the search all setup")):r?a.a.createElement("div",null,a.a.createElement("h1",{style:{marginTop:"3em",textAlign:"center"}},"Ohh no!!!!!"),a.a.createElement("h3",{style:{marginTop:"2em",padding:"2em 0em",textAlign:"center"}},"Something really bad happened")):a.a.createElement("div",null,a.a.createElement("div",{style:{margin:"0 auto"}},a.a.createElement("form",{onSubmit:this.handleSubmit},a.a.createElement("div",{style:{margin:"0 auto"}},a.a.createElement("label",{htmlFor:"Search",style:{paddingRight:"10px"}},"Enter your search here"),a.a.createElement("input",{id:"Search",value:i,onChange:this.searchData,placeholder:"Enter your search here",style:{margin:"0 auto",width:"400px"}}))),a.a.createElement("div",null,"Number of items:",l.length,a.a.createElement("table",{style:{width:"100%",borderCollapse:"collapse",borderRadius:"4px",border:"1px solid #d3d3d3"}},a.a.createElement("thead",{style:{border:"1px solid #808080"}},a.a.createElement("tr",null,a.a.createElement("th",{style:{textAlign:"left",padding:"5px",fontSize:"14px",fontWeight:600,borderBottom:"2px solid #d3d3d3",cursor:"pointer"}},"Tire index"),a.a.createElement("th",{style:{textAlign:"left",padding:"5px",fontSize:"14px",fontWeight:600,borderBottom:"2px solid #d3d3d3",cursor:"pointer"}},"Tire description"),a.a.createElement("th",{style:{textAlign:"left",padding:"5px",fontSize:"14px",fontWeight:600,borderBottom:"2px solid #d3d3d3",cursor:"pointer"}},"Book Ratio"))),a.a.createElement("tbody",null,l.map(function(e){return a.a.createElement("tr",{key:"row_"+e.isbn},a.a.createElement("td",{style:{fontSize:"14px",border:"1px solid #d3d3d3"}},e.isbn),a.a.createElement("td",{style:{fontSize:"14px",border:"1px solid #d3d3d3"}},e.title),a.a.createElement("td",{style:{fontSize:"14px",border:"1px solid #d3d3d3"}},e.ratio))}))))))},t}(n.Component);t.default=function(e){var t=e.pageContext.bookData,r=t.allBooks,n=t.options;return a.a.createElement("div",null,a.a.createElement("h1",{style:{marginTop:"3em",textAlign:"center"}},"Search data using JS Search using Gatsby Api"),a.a.createElement("div",null,a.a.createElement(p,{books:r,engine:n})))}}}]);
//# sourceMappingURL=component---src-templates-client-search-template-js-d550d44b88fd9f94d15e.js.map